## Это репозиторий проекта "Афиша"
#### Свободное время — ценный ресурс. Ежедневно мы планируем, как его потратить — куда и с кем сходить. Сложнее всего в таком планировании поиск информации и переговоры. Нужно учесть много деталей: какие намечаются мероприятия, свободны ли в этот момент друзья, как всех пригласить и где собраться.
#### В этой афише можно предложить какое-либо событие от выставки до похода в кино и собрать компанию для участия в нём.
![1674558748.png](1674558748.png)

## Приложение, написанное с использованием Java 11, все зависимости подгружены с помощью Maven.

## Для запуска приложения, запустите файл DockerCompose, который находится в корневой папке проекта.

### Приложение имеет два сервиса:
1. **Основной сервис** содержит всё необходимое для работы продукта.
2. **Сервис статистики** хранит количество просмотров и позволяет делать различные выборки для анализа работы приложения.

### Основной сервис
#### API основного сервиса разделён на три части:

* **публичная доступна** - без регистрации любому пользователю сети;
* **закрытая доступна** - только авторизованным пользователям;
* **административная** - для администраторов сервиса.

### публичному API
* сортировка списка событий организована либо по количеству просмотров, которое будет запрашиваться в сервисе статистики, либо по датам событий;
* при просмотре списка событий возвращается только краткая информация о мероприятиях;
* просмотр подробной информации о конкретном событии настроен отдельно (через отдельный эндпоинт);
* каждое событие относиться к какой-то из закреплённых в приложении категорий;
* настроена возможность получения всех имеющихся категорий и подборок событий (такие подборки будут составлять администраторы ресурса);
* каждый публичный запрос для получения списка событий или полной информации о мероприятии фиксируются сервисом статистики.

### API для авторизованных пользователей
* авторизованные пользователи имют возможность добавлять в приложение новые мероприятия, редактировать их и просматривать после добавления;
* настроена подача заявок на участие в интересующих мероприятиях;
* создатель мероприятия имеет возможность подтверждать заявки, которые отправили другие пользователи сервиса.

### API для администратора
* добавление, изменение и удаление категорий для событий;
* добавлять, удалять и закреплять на главной странице подборки мероприятий;
* модерация событий, размещённых пользователями, — публикация или отклонение;
* управление пользователями — добавление, активация, просмотр и удаление.

### Модель данных
1. Создание.
2. Ожидание публикации. В статус ожидания публикации событие переходит сразу после создания.
3. Публикация. В это состояние событие переводит администратор.
4. Отмена публикации. В это состояние событие переходит в двух случаях. Первый — если администратор решил, что его нельзя публиковать. Второй — когда инициатор события решил отменить его на этапе ожидания публикации.

### Сервис статистики
#### Функционал сервиса статистики содержыт
* запись информации о том, что был обработан запрос к эндпоинту API;
* предоставление статистики за выбранные даты по выбранному эндпоинту.

### Спецификация API
* спецификация основного сервиса: (Swagger)[[ewm-main-service-spec.json](ewm-main-service-spec.json)]
* спецификация сервиса статистики: (Swagger)[[ewm-stats-service-spec.json](ewm-stats-service-spec.json)]